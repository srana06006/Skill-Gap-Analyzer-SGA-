document.getElementById('cc-form').addEventListener('submit', async (e)=>{e.preventDefault(); const missing=document.getElementById('missing').value.split(',').map(s=>s.trim()).filter(Boolean); const resume=document.getElementById('resume').value; const r=await fetch('/api/recommend_courses',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({resume,missing})}); const d=await r.json(); const ex=document.getElementById('extracted'); ex.innerHTML=''; (d.extracted_skills||[]).forEach(s=>{const li=document.createElement('li'); li.textContent=s; ex.appendChild(li);}); const courses=document.getElementById('courses'); courses.innerHTML=''; (d.course_recommendations||[]).forEach(c=>{const li=document.createElement('li'); li.innerHTML=`<strong>${c.skill}:</strong> ${c.title} â€” ${c.provider} (${c.duration}). <a href='${c.url}' target='_blank'>link</a>`; courses.appendChild(li);});});